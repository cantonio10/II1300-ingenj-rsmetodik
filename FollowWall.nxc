
float distanceToWall;

sub sensorScan()
{
  SetSensorUltrasonic(IN_2);
  while(true)
  {
  distanceToWall = SensorUS(IN_2);
    if (distanceToWall < 30 && distanceToWall > 15)
    {
      OnFwdSync(OUT_BC, 80, 0);
    }
    if (distanceToWall > 25)
    {
      OnFwdSync(OUT_BC, 80, -10);
    }
    else
    {
      OnFwdSync(OUT_BC, 80, 3);
    }
  }
}

task main()
{
  sensorScan();
  SetSensorUltrasonic(IN_2);
}
